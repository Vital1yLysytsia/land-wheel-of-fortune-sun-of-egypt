"use strict";document.addEventListener("DOMContentLoaded",function(){var e,t,a,r,s=document.querySelector(".land__box-wheelButton"),n=document.querySelector(".land__box-wheelBonus img"),i=document.querySelector(".modalOverlay"),o=document.querySelector(".modalWinFirst"),c=document.querySelector(".modalWinSecond");document.querySelector(".modalWin__disclaimer");function l(e){d(),i&&i.classList.add("is-visible"),e&&e.classList.add("is-visible")}function d(){i&&i.classList.remove("is-visible"),o&&o.classList.remove("is-visible"),c&&c.classList.remove("is-visible")}function m(e){e=e.target.closest(".modalWin__content-button");e&&"Забрати бонус"===(e.textContent||"").trim()&&(d(),t=!0,s.classList.remove("is-spinning"))}s&&n&&(t=!(e=0),s.addEventListener("click",function(){t&&(0===e?(t=!1,s.classList.add("is-spinning"),n.classList.add("reel-rotation-first"),setTimeout(function(){n.style.transform="rotate(1012deg)",n.classList.remove("reel-rotation-first"),setTimeout(function(){l(o)},500)},6e3),e++):1===e&&(t=!1,s.classList.add("is-spinning"),n.classList.add("reel-rotation-second"),setTimeout(function(){n.style.transform="rotate(1957deg)",n.classList.remove("reel-rotation-second"),setTimeout(function(){l(c)},500)},6e3),e++))}),o&&o.addEventListener("click",m),c&&c.addEventListener("click",m),a=document.querySelector(".testBtns__first"),r=document.querySelector(".testBtns__second"),a&&a.addEventListener("click",function(){l(o)}),r)&&r.addEventListener("click",function(){l(c)})}),function(){var e,s=new URL(window.location.href),n=["l","utm_source","utm_medium","utm_campaign","utm_term","utm_content","param1","param2","param3","param4","creative_type","creative_id"];s.searchParams.has("redirectUrl")&&4===(e=new URL(s.searchParams.get("redirectUrl"))).href.match(/\//g).length&&e.searchParams.get("l")&&localStorage.setItem("redirectUrl",e.href),n.forEach(function(e){s.searchParams.has(e)&&localStorage.setItem(e,s.searchParams.get(e))}),["affid","cpaid"].forEach(function(e){s.searchParams.has(e)&&localStorage.setItem(e,s.searchParams.get(e))}),window.addEventListener("click",function(e){var t,a,r=e.target.closest("a");"https://tds.favbet.partners"===r.getAttribute("href")&&r&&(e.preventDefault(),e=localStorage.getItem("affid"),a=localStorage.getItem("cpaid"),localStorage.getItem("redirectUrl")?t=new URL(localStorage.getItem("redirectUrl")):(t=new URL(r.href),e&&a&&(t.pathname="/"+e+"/"+a)),n.forEach(function(e){s.searchParams.has(e)&&t.searchParams.set(e,localStorage.getItem(e))}),document.location.href=t)})}();